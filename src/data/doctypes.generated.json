{
  "source": "/home/dg/db-b/apps/rshpm_system/rshpm_system/rshpm_system/doctype",
  "generated_at": "2026-02-11T12:19:05.805853+00:00",
  "doctypes": [
    {
      "name": "Allotment",
      "module": "Rshpm System",
      "istable": 0,
      "is_submittable": 1,
      "autoname": "naming_series:",
      "naming_rule": "By \"Naming Series\" field",
      "title_field": null,
      "search_fields": null,
      "quick_entry": 0,
      "track_changes": 0,
      "field_order": [
        "naming_series",
        "company",
        "column_break_fepm",
        "booking",
        "client",
        "section_break_gurt",
        "property",
        "column_break_phyg",
        "allotment_date",
        "total_price",
        "section_break_pflp",
        "terms",
        "signed_copy",
        "amended_from"
      ],
      "fields": [
        {
          "fieldname": "naming_series",
          "label": null,
          "fieldtype": "Select",
          "reqd": 0,
          "read_only": 1,
          "hidden": 1,
          "in_list_view": 0,
          "options": "ALT-.YYYY.-.#####",
          "default": "ALT-.YYYY.-.#####",
          "fetch_from": null
        },
        {
          "fieldname": "company",
          "label": "Company",
          "fieldtype": "Link",
          "reqd": 1,
          "read_only": 1,
          "hidden": 0,
          "in_list_view": 1,
          "options": "Property Company",
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "column_break_fepm",
          "label": null,
          "fieldtype": "Column Break",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "booking",
          "label": "Booking",
          "fieldtype": "Link",
          "reqd": 1,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": "Booking",
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "client",
          "label": "Client",
          "fieldtype": "Link",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": "Client",
          "default": null,
          "fetch_from": "booking.customer"
        },
        {
          "fieldname": "section_break_gurt",
          "label": null,
          "fieldtype": "Section Break",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "property",
          "label": "Property",
          "fieldtype": "Link",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": "Property",
          "default": null,
          "fetch_from": "booking.property"
        },
        {
          "fieldname": "column_break_phyg",
          "label": null,
          "fieldtype": "Column Break",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "allotment_date",
          "label": "Allotment Date",
          "fieldtype": "Date",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": "Today",
          "fetch_from": null
        },
        {
          "fieldname": "total_price",
          "label": "Total Price",
          "fieldtype": "Currency",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": "booking.net_total"
        },
        {
          "fieldname": "section_break_pflp",
          "label": null,
          "fieldtype": "Section Break",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "terms",
          "label": "Terms",
          "fieldtype": "Text Editor",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "signed_copy",
          "label": "Signed Copy",
          "fieldtype": "Attach",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "amended_from",
          "label": "Amended From",
          "fieldtype": "Link",
          "reqd": 0,
          "read_only": 1,
          "hidden": 0,
          "in_list_view": 0,
          "options": "Allotment",
          "default": null,
          "fetch_from": null
        }
      ],
      "permissions": [
        {
          "role": "System Manager",
          "read": 1,
          "write": 1,
          "create": 1,
          "delete": 1,
          "submit": 0,
          "cancel": 0,
          "amend": 0,
          "print": 1,
          "email": 1,
          "share": 1,
          "export": 1,
          "report": 1
        },
        {
          "role": "Sales User",
          "read": 1,
          "write": 1,
          "create": 1,
          "delete": 0,
          "submit": 1,
          "cancel": 0,
          "amend": 0,
          "print": 1,
          "email": 1,
          "share": 1,
          "export": 1,
          "report": 1
        },
        {
          "role": "Manager",
          "read": 1,
          "write": 1,
          "create": 1,
          "delete": 1,
          "submit": 1,
          "cancel": 0,
          "amend": 0,
          "print": 1,
          "email": 1,
          "share": 1,
          "export": 1,
          "report": 1
        },
        {
          "role": "Client",
          "read": 1,
          "write": 0,
          "create": 0,
          "delete": 0,
          "submit": 0,
          "cancel": 0,
          "amend": 0,
          "print": 1,
          "email": 1,
          "share": 1,
          "export": 1,
          "report": 1
        }
      ],
      "controller": {
        "hooks": [
          "on_cancel",
          "on_submit",
          "validate"
        ],
        "throw_lines": [
          "frappe.throw(\"Invalid Booking.\", title=\"Invalid Booking\")",
          "frappe.throw(\"Booking must be submitted before allotment.\", title=\"Booking Not Submitted\")",
          "frappe.throw(\"Booking company and Allotment company must be the same.\", title=\"Company Mismatch\")",
          "frappe.throw(\"Invalid Property.\", title=\"Invalid Property\")",
          "frappe.throw(",
          "frappe.throw(",
          "frappe.throw(f\"Cannot allot property because it is already {prop_status}.\", title=\"Property Locked\")",
          "frappe.throw(f\"Cannot cancel allotment because property is already {prop_status}.\", title=\"Not Allowed\")"
        ]
      }
    },
    {
      "name": "Amenity",
      "module": "Rshpm System",
      "istable": 0,
      "is_submittable": 0,
      "autoname": "field:amenity_name",
      "naming_rule": "By fieldname",
      "title_field": "amenity_name",
      "search_fields": null,
      "quick_entry": 0,
      "track_changes": 0,
      "field_order": [
        "is_active",
        "amenity_name",
        "category",
        "description"
      ],
      "fields": [
        {
          "fieldname": "amenity_name",
          "label": "Amenity Name",
          "fieldtype": "Data",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "is_active",
          "label": "Is Active",
          "fieldtype": "Check",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": "0",
          "fetch_from": null
        },
        {
          "fieldname": "category",
          "label": "Category",
          "fieldtype": "Link",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": "Amenity Category",
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "description",
          "label": "Description",
          "fieldtype": "Small Text",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        }
      ],
      "permissions": [
        {
          "role": "System Manager",
          "read": 1,
          "write": 1,
          "create": 1,
          "delete": 1,
          "submit": 0,
          "cancel": 0,
          "amend": 0,
          "print": 1,
          "email": 1,
          "share": 1,
          "export": 1,
          "report": 1
        }
      ],
      "controller": {
        "hooks": [],
        "throw_lines": []
      }
    },
    {
      "name": "Amenity Category",
      "module": "Rshpm System",
      "istable": 0,
      "is_submittable": 0,
      "autoname": "field:category_name",
      "naming_rule": "By fieldname",
      "title_field": "category_name",
      "search_fields": null,
      "quick_entry": 0,
      "track_changes": 0,
      "field_order": [
        "category_name"
      ],
      "fields": [
        {
          "fieldname": "category_name",
          "label": "Category Name",
          "fieldtype": "Data",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        }
      ],
      "permissions": [
        {
          "role": "System Manager",
          "read": 1,
          "write": 1,
          "create": 1,
          "delete": 1,
          "submit": 0,
          "cancel": 0,
          "amend": 0,
          "print": 1,
          "email": 1,
          "share": 1,
          "export": 1,
          "report": 1
        }
      ],
      "controller": {
        "hooks": [],
        "throw_lines": []
      }
    },
    {
      "name": "Attachments",
      "module": "Rshpm System",
      "istable": 1,
      "is_submittable": 0,
      "autoname": null,
      "naming_rule": null,
      "title_field": null,
      "search_fields": null,
      "quick_entry": 0,
      "track_changes": 0,
      "field_order": [
        "document_types",
        "required",
        "received",
        "attachment"
      ],
      "fields": [
        {
          "fieldname": "document_types",
          "label": "Document Types",
          "fieldtype": "Link",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 1,
          "options": "Document Types",
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "attachment",
          "label": "Attachment",
          "fieldtype": "Attach",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 1,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "required",
          "label": "Required",
          "fieldtype": "Check",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 1,
          "options": "Document Types",
          "default": "0",
          "fetch_from": null
        },
        {
          "fieldname": "received",
          "label": "Received",
          "fieldtype": "Check",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 1,
          "options": "Document Types",
          "default": "0",
          "fetch_from": null
        }
      ],
      "permissions": [],
      "controller": {
        "hooks": [],
        "throw_lines": []
      }
    },
    {
      "name": "Bank Transactions",
      "module": "Rshpm System",
      "istable": 0,
      "is_submittable": 0,
      "autoname": null,
      "naming_rule": null,
      "title_field": null,
      "search_fields": null,
      "quick_entry": 0,
      "track_changes": 0,
      "field_order": [
        "company",
        "amount",
        "reference",
        "column_break_uvig",
        "bank_account",
        "txn_date",
        "sender_account",
        "status",
        "matched_payment"
      ],
      "fields": [
        {
          "fieldname": "company",
          "label": "Company",
          "fieldtype": "Link",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": "Company",
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "column_break_uvig",
          "label": null,
          "fieldtype": "Column Break",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "bank_account",
          "label": "Bank Account",
          "fieldtype": "Data",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "txn_date",
          "label": "Txn Date",
          "fieldtype": "Data",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "amount",
          "label": "Amount",
          "fieldtype": "Currency",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "reference",
          "label": "Reference",
          "fieldtype": "Small Text",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "sender_account",
          "label": "Sender Account",
          "fieldtype": "Data",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "status",
          "label": "Status",
          "fieldtype": "Select",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": "Unmatched\nMatched\nInvestigate",
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "matched_payment",
          "label": "Matched Payment",
          "fieldtype": "Link",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": "Payment",
          "default": null,
          "fetch_from": null
        }
      ],
      "permissions": [
        {
          "role": "System Manager",
          "read": 1,
          "write": 1,
          "create": 1,
          "delete": 1,
          "submit": 0,
          "cancel": 0,
          "amend": 0,
          "print": 1,
          "email": 1,
          "share": 1,
          "export": 1,
          "report": 1
        }
      ],
      "controller": {
        "hooks": [],
        "throw_lines": []
      }
    },
    {
      "name": "Block",
      "module": "Rshpm System",
      "istable": 0,
      "is_submittable": 0,
      "autoname": "field:block_name",
      "naming_rule": "By fieldname",
      "title_field": null,
      "search_fields": null,
      "quick_entry": 1,
      "track_changes": 1,
      "field_order": [
        "block_name",
        "total_number_of_plots",
        "amended_from",
        "company"
      ],
      "fields": [
        {
          "fieldname": "block_name",
          "label": "Block Name",
          "fieldtype": "Data",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "total_number_of_plots",
          "label": "Total Number of Plots",
          "fieldtype": "Int",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "amended_from",
          "label": "Amended From",
          "fieldtype": "Link",
          "reqd": 0,
          "read_only": 1,
          "hidden": 0,
          "in_list_view": 0,
          "options": "Block",
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "company",
          "label": "Company",
          "fieldtype": "Link",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": "Company",
          "default": null,
          "fetch_from": null
        }
      ],
      "permissions": [
        {
          "role": "System Manager",
          "read": 1,
          "write": 1,
          "create": 1,
          "delete": 1,
          "submit": 0,
          "cancel": 0,
          "amend": 0,
          "print": 1,
          "email": 1,
          "share": 1,
          "export": 1,
          "report": 1
        }
      ],
      "controller": {
        "hooks": [],
        "throw_lines": []
      }
    },
    {
      "name": "Block Layout Plan",
      "module": "Rshpm System",
      "istable": 0,
      "is_submittable": 1,
      "autoname": "format:{project_name}-{file_no}",
      "naming_rule": "Expression",
      "title_field": null,
      "search_fields": null,
      "quick_entry": 0,
      "track_changes": 0,
      "field_order": [
        "project_name",
        "file_no",
        "block",
        "approved_map",
        "plots_list",
        "status",
        "layout_plan_items",
        "amended_from"
      ],
      "fields": [
        {
          "fieldname": "block",
          "label": "Block",
          "fieldtype": "Link",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": "Block",
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "approved_map",
          "label": "Approved Map",
          "fieldtype": "Attach",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "plots_list",
          "label": "list of plots",
          "fieldtype": "Data",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "status",
          "label": "Status",
          "fieldtype": "Select",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": "Draft\nSubmitted\nApproved",
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "layout_plan_items",
          "label": "Layout Plan Items",
          "fieldtype": "Table",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": "Layout Plan Items",
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "project_name",
          "label": "Project Name",
          "fieldtype": "Link",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": "Block",
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "file_no",
          "label": "File No",
          "fieldtype": "Link",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": "Block",
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "amended_from",
          "label": "Amended From",
          "fieldtype": "Link",
          "reqd": 0,
          "read_only": 1,
          "hidden": 0,
          "in_list_view": 0,
          "options": "Block Layout Plan",
          "default": null,
          "fetch_from": null
        }
      ],
      "permissions": [
        {
          "role": "System Manager",
          "read": 1,
          "write": 1,
          "create": 1,
          "delete": 1,
          "submit": 0,
          "cancel": 0,
          "amend": 0,
          "print": 1,
          "email": 1,
          "share": 1,
          "export": 1,
          "report": 1
        }
      ],
      "controller": {
        "hooks": [],
        "throw_lines": []
      }
    },
    {
      "name": "Booking",
      "module": "Rshpm System",
      "istable": 0,
      "is_submittable": 1,
      "autoname": null,
      "naming_rule": null,
      "title_field": null,
      "search_fields": null,
      "quick_entry": 0,
      "track_changes": 0,
      "field_order": [
        "booking_info_section",
        "booking_date",
        "payment_mode",
        "installment_start",
        "column_break_hsgk",
        "customer",
        "property",
        "company",
        "status",
        "pricing_section",
        "total_cost",
        "discount",
        "net_total",
        "payment_plan_type",
        "down_payment_amount",
        "next_due_date",
        "column_break_ijpd",
        "down_payment_paid",
        "remaining_balance",
        "advance_amount",
        "other_charges_total",
        "token_paid_total",
        "advance_paid_total",
        "column_break_yast",
        "installments_paid_total",
        "total_paid",
        "overdue_amount",
        "schedule_locked",
        "payment_plan_section",
        "down_payment_percentage",
        "installment_interval",
        "penalty_rule",
        "column_break_pkch",
        "total_installments",
        "grace_days",
        "section_break_oiva",
        "installment_schedule",
        "amended_from"
      ],
      "fields": [
        {
          "fieldname": "booking_date",
          "label": "Booking Date",
          "fieldtype": "Date",
          "reqd": 1,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 1,
          "options": null,
          "default": "Now",
          "fetch_from": null
        },
        {
          "fieldname": "column_break_hsgk",
          "label": null,
          "fieldtype": "Column Break",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "customer",
          "label": "Customer",
          "fieldtype": "Link",
          "reqd": 1,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": "Client",
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "property",
          "label": "Property",
          "fieldtype": "Link",
          "reqd": 1,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": "Property",
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "total_cost",
          "label": "Total Cost",
          "fieldtype": "Currency",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": "property.total_cost"
        },
        {
          "fieldname": "payment_plan_section",
          "label": "Payment Plan",
          "fieldtype": "Section Break",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "down_payment_percentage",
          "label": "Down Payment Percentage",
          "fieldtype": "Percent",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "column_break_pkch",
          "label": null,
          "fieldtype": "Column Break",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "total_installments",
          "label": "Total Installments",
          "fieldtype": "Int",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "installment_interval",
          "label": "Installment Interval",
          "fieldtype": "Select",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": "Monthly\nQuarterly\nSemi-Annual",
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "section_break_oiva",
          "label": null,
          "fieldtype": "Section Break",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "installment_schedule",
          "label": "Installment Schedule",
          "fieldtype": "Table",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": "Installment Schedule Table",
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "down_payment_amount",
          "label": "Down Payment Amount",
          "fieldtype": "Currency",
          "reqd": 0,
          "read_only": 1,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "column_break_ijpd",
          "label": null,
          "fieldtype": "Column Break",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "column_break_yast",
          "label": null,
          "fieldtype": "Column Break",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "down_payment_paid",
          "label": "Down Payment Paid",
          "fieldtype": "Currency",
          "reqd": 0,
          "read_only": 1,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "installments_paid_total",
          "label": "Installments Paid Total",
          "fieldtype": "Currency",
          "reqd": 0,
          "read_only": 1,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "total_paid",
          "label": "Total Paid",
          "fieldtype": "Currency",
          "reqd": 0,
          "read_only": 1,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "remaining_balance",
          "label": "Remaining Balance",
          "fieldtype": "Currency",
          "reqd": 0,
          "read_only": 1,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "next_due_date",
          "label": "Next Due Date",
          "fieldtype": "Date",
          "reqd": 0,
          "read_only": 1,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "overdue_amount",
          "label": "Overdue Amount",
          "fieldtype": "Currency",
          "reqd": 0,
          "read_only": 1,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "advance_amount",
          "label": "Advance Amount",
          "fieldtype": "Currency",
          "reqd": 0,
          "read_only": 1,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "amended_from",
          "label": "Amended From",
          "fieldtype": "Link",
          "reqd": 0,
          "read_only": 1,
          "hidden": 0,
          "in_list_view": 0,
          "options": "Booking",
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "company",
          "label": "Company",
          "fieldtype": "Link",
          "reqd": 1,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": "Property Company",
          "default": null,
          "fetch_from": "property.company"
        },
        {
          "fieldname": "discount",
          "label": "Discount",
          "fieldtype": "Currency",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "net_total",
          "label": "Net Total",
          "fieldtype": "Currency",
          "reqd": 0,
          "read_only": 1,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "payment_plan_type",
          "label": "Payment Plan Type",
          "fieldtype": "Select",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": "Fixed\nFlexible",
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "grace_days",
          "label": "Grace Days",
          "fieldtype": "Int",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "penalty_rule",
          "label": "Penalty Rule",
          "fieldtype": "Data",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "status",
          "label": "Status",
          "fieldtype": "Select",
          "reqd": 0,
          "read_only": 1,
          "hidden": 0,
          "in_list_view": 0,
          "options": "Draft\nSubmitted\nActive\nCompleted\nCancelled",
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "booking_info_section",
          "label": "Booking Info",
          "fieldtype": "Section Break",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "payment_mode",
          "label": "Payment Mode",
          "fieldtype": "Select",
          "reqd": 1,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": "Full Payment\nInstallments",
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "pricing_section",
          "label": "Pricing",
          "fieldtype": "Section Break",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "installment_start",
          "label": "Installment Start",
          "fieldtype": "Date",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "schedule_locked",
          "label": "Schedule Locked",
          "fieldtype": "Check",
          "reqd": 0,
          "read_only": 0,
          "hidden": 1,
          "in_list_view": 0,
          "options": null,
          "default": "0",
          "fetch_from": null
        },
        {
          "fieldname": "other_charges_total",
          "label": "Other Charges Total",
          "fieldtype": "Currency",
          "reqd": 0,
          "read_only": 1,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "token_paid_total",
          "label": "Token Paid",
          "fieldtype": "Currency",
          "reqd": 0,
          "read_only": 1,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "advance_paid_total",
          "label": "Advance Paid Total",
          "fieldtype": "Currency",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        }
      ],
      "permissions": [
        {
          "role": "System Manager",
          "read": 1,
          "write": 1,
          "create": 1,
          "delete": 1,
          "submit": 0,
          "cancel": 0,
          "amend": 0,
          "print": 1,
          "email": 1,
          "share": 1,
          "export": 1,
          "report": 1
        },
        {
          "role": "Admin",
          "read": 1,
          "write": 1,
          "create": 1,
          "delete": 1,
          "submit": 0,
          "cancel": 0,
          "amend": 0,
          "print": 1,
          "email": 1,
          "share": 1,
          "export": 1,
          "report": 1
        },
        {
          "role": "Receptionist",
          "read": 1,
          "write": 1,
          "create": 1,
          "delete": 0,
          "submit": 0,
          "cancel": 0,
          "amend": 0,
          "print": 1,
          "email": 1,
          "share": 1,
          "export": 1,
          "report": 1
        },
        {
          "role": "Accounts",
          "read": 1,
          "write": 1,
          "create": 0,
          "delete": 0,
          "submit": 0,
          "cancel": 0,
          "amend": 0,
          "print": 1,
          "email": 1,
          "share": 1,
          "export": 1,
          "report": 1
        },
        {
          "role": "Cashier",
          "read": 1,
          "write": 0,
          "create": 0,
          "delete": 0,
          "submit": 0,
          "cancel": 0,
          "amend": 0,
          "print": 1,
          "email": 1,
          "share": 1,
          "export": 1,
          "report": 1
        },
        {
          "role": "Client",
          "read": 1,
          "write": 0,
          "create": 0,
          "delete": 0,
          "submit": 0,
          "cancel": 0,
          "amend": 0,
          "print": 1,
          "email": 1,
          "share": 1,
          "export": 1,
          "report": 1
        },
        {
          "role": "Sales User",
          "read": 1,
          "write": 1,
          "create": 1,
          "delete": 0,
          "submit": 1,
          "cancel": 0,
          "amend": 0,
          "print": 1,
          "email": 1,
          "share": 1,
          "export": 1,
          "report": 1
        }
      ],
      "controller": {
        "hooks": [
          "on_cancel",
          "on_submit",
          "validate"
        ],
        "throw_lines": [
          "frappe.throw(\"Property not found at submit time.\")",
          "frappe.throw(f\"Property already locked under Booking: {current_booking}\")",
          "frappe.throw(\"Company is required.\")",
          "frappe.throw(\"Customer is required.\")",
          "frappe.throw(\"Property is required.\")",
          "frappe.throw(\"Booking Date is required.\")",
          "frappe.throw(f\"Property '{self.property}' not found.\")",
          "frappe.throw(\"Property company and Booking company must be the same.\")",
          "frappe.throw(f\"Property is already {status} under Booking: {current_booking}\")",
          "frappe.throw(\"Property reservation has expired. Set it back to Inventory or extend reserved till.\")",
          "frappe.throw(f\"Property is Reserved under another Booking: {current_booking}\")",
          "frappe.throw(f\"Property is not bookable because current status is '{status}'.\")",
          "frappe.throw(\"Payment Plan Type is required for Installments.\")",
          "frappe.throw(\"Total Installments must be greater than 0 for Installments.\")",
          "frappe.throw(\"Installment Interval is required for Installments.\")",
          "frappe.throw(\"Discount cannot be greater than Total Cost.\")",
          "frappe.throw(\"Total Installments must be greater than 0.\")",
          "frappe.throw(\"Installment total is 0. Reduce down payment or add installments.\")",
          "frappe.throw(\"Company is required to generate Booking ID.\")",
          "frappe.throw(\"Company Code is missing in Property Company.\")"
        ]
      }
    },
    {
      "name": "Charge Type",
      "module": "Rshpm System",
      "istable": 0,
      "is_submittable": 0,
      "autoname": "field:charge_type",
      "naming_rule": "By fieldname",
      "title_field": "charge_type",
      "search_fields": null,
      "quick_entry": 0,
      "track_changes": 0,
      "field_order": [
        "charge_type"
      ],
      "fields": [
        {
          "fieldname": "charge_type",
          "label": "Charge Type",
          "fieldtype": "Data",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        }
      ],
      "permissions": [
        {
          "role": "System Manager",
          "read": 1,
          "write": 1,
          "create": 1,
          "delete": 1,
          "submit": 0,
          "cancel": 0,
          "amend": 0,
          "print": 1,
          "email": 1,
          "share": 1,
          "export": 1,
          "report": 1
        }
      ],
      "controller": {
        "hooks": [],
        "throw_lines": []
      }
    },
    {
      "name": "Client",
      "module": "Rshpm System",
      "istable": 0,
      "is_submittable": 0,
      "autoname": "naming_series:",
      "naming_rule": "By \"Naming Series\" field",
      "title_field": "full_name",
      "search_fields": "full_name,father_name,cnic_number,email_address,mobile_number",
      "quick_entry": 1,
      "track_changes": 1,
      "field_order": [
        "full_name",
        "father_name",
        "cnic_number",
        "date_of_birth",
        "company",
        "reletion_with_nominee",
        "kyc_status",
        "naming_series",
        "user",
        "column_break_krre",
        "mobile_number",
        "email_address",
        "address",
        "cnic_normalized",
        "phone_normalized",
        "risk_flags",
        "nominee_details_section",
        "nominee_name",
        "profile_picture",
        "column_break_phgp",
        "nominee_cnic",
        "nominee_mobile",
        "section_break_dosb",
        "attachments"
      ],
      "fields": [
        {
          "fieldname": "cnic_number",
          "label": "CNIC Number",
          "fieldtype": "Data",
          "reqd": 1,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 1,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "column_break_krre",
          "label": null,
          "fieldtype": "Column Break",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "mobile_number",
          "label": "Mobile Number",
          "fieldtype": "Data",
          "reqd": 1,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": "Phone",
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "email_address",
          "label": "Email Address",
          "fieldtype": "Data",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": "Email",
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "date_of_birth",
          "label": "Date of Birth",
          "fieldtype": "Date",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "address",
          "label": "Address",
          "fieldtype": "Small Text",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "nominee_details_section",
          "label": "Nominee Details",
          "fieldtype": "Section Break",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "nominee_name",
          "label": "Nominee Name",
          "fieldtype": "Data",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "column_break_phgp",
          "label": null,
          "fieldtype": "Column Break",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "nominee_cnic",
          "label": "Nominee CNIC",
          "fieldtype": "Data",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "nominee_mobile",
          "label": "Nominee Mobile",
          "fieldtype": "Data",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "profile_picture",
          "label": "Profile Picture",
          "fieldtype": "Attach Image",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "company",
          "label": "Company",
          "fieldtype": "Link",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": "Property Company",
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "full_name",
          "label": "Full Name",
          "fieldtype": "Data",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "father_name",
          "label": "Father Name",
          "fieldtype": "Data",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "cnic_normalized",
          "label": "Cnic Normalized",
          "fieldtype": "Data",
          "reqd": 0,
          "read_only": 1,
          "hidden": 1,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "phone_normalized",
          "label": "Phone Normalized",
          "fieldtype": "Data",
          "reqd": 0,
          "read_only": 1,
          "hidden": 1,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "reletion_with_nominee",
          "label": "Reletion With Nominee",
          "fieldtype": "Select",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": "Wife\nFather\nMother\nSon\nDoughter\nSister\nBrother",
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "kyc_status",
          "label": "KYC Status",
          "fieldtype": "Select",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": "Unverified\nVerified\nRejected",
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "risk_flags",
          "label": "Risk Flags",
          "fieldtype": "Small Text",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "section_break_dosb",
          "label": null,
          "fieldtype": "Section Break",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "attachments",
          "label": "Attachments",
          "fieldtype": "Table",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": "Attachments",
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "naming_series",
          "label": null,
          "fieldtype": "Data",
          "reqd": 0,
          "read_only": 0,
          "hidden": 1,
          "in_list_view": 0,
          "options": null,
          "default": "CLT-.YYYY.-.#####",
          "fetch_from": null
        },
        {
          "fieldname": "user",
          "label": "User",
          "fieldtype": "Link",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": "User",
          "default": null,
          "fetch_from": null
        }
      ],
      "permissions": [
        {
          "role": "System Manager",
          "read": 1,
          "write": 1,
          "create": 1,
          "delete": 1,
          "submit": 0,
          "cancel": 0,
          "amend": 0,
          "print": 1,
          "email": 1,
          "share": 1,
          "export": 1,
          "report": 1
        },
        {
          "role": "Receptionist",
          "read": 1,
          "write": 1,
          "create": 1,
          "delete": 0,
          "submit": 0,
          "cancel": 0,
          "amend": 0,
          "print": 1,
          "email": 1,
          "share": 1,
          "export": 1,
          "report": 1
        },
        {
          "role": "Sales User",
          "read": 1,
          "write": 0,
          "create": 0,
          "delete": 0,
          "submit": 0,
          "cancel": 0,
          "amend": 0,
          "print": 1,
          "email": 1,
          "share": 1,
          "export": 1,
          "report": 1
        },
        {
          "role": "Accounts",
          "read": 1,
          "write": 0,
          "create": 0,
          "delete": 0,
          "submit": 0,
          "cancel": 0,
          "amend": 0,
          "print": 1,
          "email": 1,
          "share": 1,
          "export": 1,
          "report": 1
        },
        {
          "role": "Manager",
          "read": 1,
          "write": 1,
          "create": 1,
          "delete": 1,
          "submit": 0,
          "cancel": 0,
          "amend": 0,
          "print": 1,
          "email": 1,
          "share": 1,
          "export": 1,
          "report": 1
        }
      ],
      "controller": {
        "hooks": [
          "after_insert",
          "on_trash",
          "on_update",
          "validate"
        ],
        "throw_lines": [
          "frappe.throw(\"CNIC must be 13 digits (numbers only).\", title=\"Invalid CNIC\")",
          "frappe.throw(\"Mobile number looks invalid. Please enter a valid phone number.\", title=\"Invalid Mobile\")",
          "frappe.throw(",
          "frappe.throw(",
          "frappe.throw(\"Client DocType must have field `user` (Link to User, unique).\")"
        ]
      }
    },
    {
      "name": "Document Types",
      "module": "Rshpm System",
      "istable": 0,
      "is_submittable": 0,
      "autoname": "field:document_types",
      "naming_rule": "By fieldname",
      "title_field": null,
      "search_fields": null,
      "quick_entry": 0,
      "track_changes": 0,
      "field_order": [
        "document_types"
      ],
      "fields": [
        {
          "fieldname": "document_types",
          "label": "Document Types",
          "fieldtype": "Data",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        }
      ],
      "permissions": [
        {
          "role": "System Manager",
          "read": 1,
          "write": 1,
          "create": 1,
          "delete": 1,
          "submit": 0,
          "cancel": 0,
          "amend": 0,
          "print": 1,
          "email": 1,
          "share": 1,
          "export": 1,
          "report": 1
        }
      ],
      "controller": {
        "hooks": [],
        "throw_lines": []
      }
    },
    {
      "name": "Follow Ups",
      "module": "Rshpm System",
      "istable": 1,
      "is_submittable": 0,
      "autoname": null,
      "naming_rule": null,
      "title_field": null,
      "search_fields": null,
      "quick_entry": 0,
      "track_changes": 0,
      "field_order": [
        "date",
        "remarks",
        "next_action_date"
      ],
      "fields": [
        {
          "fieldname": "date",
          "label": "Date",
          "fieldtype": "Date",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 1,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "remarks",
          "label": "Remarks",
          "fieldtype": "Small Text",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 1,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "next_action_date",
          "label": "Next Ection Date",
          "fieldtype": "Date",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 1,
          "options": null,
          "default": null,
          "fetch_from": null
        }
      ],
      "permissions": [],
      "controller": {
        "hooks": [],
        "throw_lines": []
      }
    },
    {
      "name": "Housing Scheme",
      "module": "Rshpm System",
      "istable": 0,
      "is_submittable": 0,
      "autoname": "format:{project_name}{developer}",
      "naming_rule": "Expression",
      "title_field": null,
      "search_fields": null,
      "quick_entry": 0,
      "track_changes": 0,
      "field_order": [
        "project_name",
        "location",
        "developer",
        "phase",
        "company"
      ],
      "fields": [
        {
          "fieldname": "project_name",
          "label": "Project Name",
          "fieldtype": "Data",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "location",
          "label": "Location",
          "fieldtype": "Data",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "developer",
          "label": "Developer",
          "fieldtype": "Data",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "phase",
          "label": "Phase",
          "fieldtype": "Data",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "company",
          "label": "Company",
          "fieldtype": "Link",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 1,
          "options": "Company",
          "default": null,
          "fetch_from": null
        }
      ],
      "permissions": [
        {
          "role": "System Manager",
          "read": 1,
          "write": 1,
          "create": 1,
          "delete": 1,
          "submit": 0,
          "cancel": 0,
          "amend": 0,
          "print": 1,
          "email": 1,
          "share": 1,
          "export": 1,
          "report": 1
        }
      ],
      "controller": {
        "hooks": [],
        "throw_lines": []
      }
    },
    {
      "name": "Inquiry",
      "module": "Rshpm System",
      "istable": 0,
      "is_submittable": 0,
      "autoname": "naming_series:",
      "naming_rule": "By \"Naming Series\" field",
      "title_field": null,
      "search_fields": null,
      "quick_entry": 0,
      "track_changes": 0,
      "field_order": [
        "company",
        "first_name",
        "last_name",
        "full_name",
        "interested_scheme",
        "property_type",
        "block",
        "client",
        "assigned_to",
        "column_break_smsd",
        "phone",
        "cnic",
        "address",
        "budget",
        "notes",
        "status",
        "section_break_qddu",
        "follow_ups",
        "section_break_xwxt",
        "cnic_normalized",
        "phone_normalized",
        "naming_series",
        "column_break_rydv",
        "converted_on",
        "converted_by"
      ],
      "fields": [
        {
          "fieldname": "company",
          "label": "Company",
          "fieldtype": "Link",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": "Company",
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "first_name",
          "label": "First Name",
          "fieldtype": "Data",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "last_name",
          "label": "Last Name ",
          "fieldtype": "Data",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "full_name",
          "label": "Full Name",
          "fieldtype": "Data",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "interested_scheme",
          "label": "Interested Scheme",
          "fieldtype": "Link",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": "Housing Scheme",
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "property_type",
          "label": "Property Type",
          "fieldtype": "Select",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": "Plot\nHouse\nShop\nApartment\nOther",
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "block",
          "label": "Block",
          "fieldtype": "Link",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": "Block",
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "client",
          "label": "Client",
          "fieldtype": "Link",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": "Client",
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "assigned_to",
          "label": "Assigned To",
          "fieldtype": "Link",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": "User",
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "column_break_smsd",
          "label": null,
          "fieldtype": "Column Break",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "phone",
          "label": "Mobile",
          "fieldtype": "Data",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "cnic",
          "label": "CNIC",
          "fieldtype": "Data",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "address",
          "label": "Address",
          "fieldtype": "Small Text",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "budget",
          "label": "Budget ",
          "fieldtype": "Data",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "notes",
          "label": "Notes",
          "fieldtype": "Small Text",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "status",
          "label": "Status",
          "fieldtype": "Select",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": "New\nContacted\nFollow-up\nConverted\nClosed\nQualified\nLost",
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "section_break_qddu",
          "label": null,
          "fieldtype": "Section Break",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "follow_ups",
          "label": "Follow Ups",
          "fieldtype": "Table",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": "Follow Ups",
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "section_break_xwxt",
          "label": null,
          "fieldtype": "Section Break",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "cnic_normalized",
          "label": null,
          "fieldtype": "Data",
          "reqd": 0,
          "read_only": 1,
          "hidden": 1,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "phone_normalized",
          "label": null,
          "fieldtype": "Data",
          "reqd": 0,
          "read_only": 1,
          "hidden": 1,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "naming_series",
          "label": null,
          "fieldtype": "Data",
          "reqd": 0,
          "read_only": 1,
          "hidden": 1,
          "in_list_view": 0,
          "options": null,
          "default": "INQ-.YYYY.-.#####",
          "fetch_from": null
        },
        {
          "fieldname": "column_break_rydv",
          "label": null,
          "fieldtype": "Column Break",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "converted_on",
          "label": null,
          "fieldtype": "Datetime",
          "reqd": 0,
          "read_only": 1,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "converted_by",
          "label": null,
          "fieldtype": "Link",
          "reqd": 0,
          "read_only": 1,
          "hidden": 0,
          "in_list_view": 0,
          "options": "User",
          "default": null,
          "fetch_from": null
        }
      ],
      "permissions": [
        {
          "role": "System Manager",
          "read": 1,
          "write": 1,
          "create": 1,
          "delete": 1,
          "submit": 0,
          "cancel": 0,
          "amend": 0,
          "print": 1,
          "email": 1,
          "share": 1,
          "export": 1,
          "report": 1
        },
        {
          "role": "Receptionist",
          "read": 1,
          "write": 1,
          "create": 1,
          "delete": 0,
          "submit": 0,
          "cancel": 0,
          "amend": 0,
          "print": 1,
          "email": 1,
          "share": 1,
          "export": 1,
          "report": 1
        },
        {
          "role": "Sales User",
          "read": 1,
          "write": 1,
          "create": 0,
          "delete": 0,
          "submit": 0,
          "cancel": 0,
          "amend": 0,
          "print": 1,
          "email": 1,
          "share": 1,
          "export": 1,
          "report": 1
        },
        {
          "role": "Manager",
          "read": 1,
          "write": 1,
          "create": 0,
          "delete": 1,
          "submit": 0,
          "cancel": 0,
          "amend": 0,
          "print": 1,
          "email": 1,
          "share": 1,
          "export": 1,
          "report": 1
        }
      ],
      "controller": {
        "hooks": [
          "validate"
        ],
        "throw_lines": [
          "frappe.throw(\"Mobile number looks invalid. Please enter a valid phone number.\", title=\"Invalid Mobile\")",
          "frappe.throw(\"CNIC must be 13 digits (numbers only).\", title=\"Invalid CNIC\")",
          "frappe.throw(\"CNIC is required to convert Inquiry to Client.\", title=\"CNIC Required\")"
        ]
      }
    },
    {
      "name": "Installment Schedule Table",
      "module": "Rshpm System",
      "istable": 1,
      "is_submittable": 0,
      "autoname": null,
      "naming_rule": null,
      "title_field": null,
      "search_fields": null,
      "quick_entry": 0,
      "track_changes": 0,
      "field_order": [
        "installment_name",
        "due_amount",
        "status",
        "column_break_vxsj",
        "due_date",
        "paid_amount",
        "last_payment_date"
      ],
      "fields": [
        {
          "fieldname": "installment_name",
          "label": "Installment Name",
          "fieldtype": "Data",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 1,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "due_amount",
          "label": "Due Amount",
          "fieldtype": "Currency",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 1,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "status",
          "label": "Status",
          "fieldtype": "Select",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 1,
          "options": "Unpaid\nPartially Paid\nPaid\nOverdue",
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "column_break_vxsj",
          "label": null,
          "fieldtype": "Column Break",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "due_date",
          "label": "Due Date",
          "fieldtype": "Date",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 1,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "paid_amount",
          "label": "Paid Amount",
          "fieldtype": "Currency",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 1,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "last_payment_date",
          "label": "Last Payment Date",
          "fieldtype": "Date",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        }
      ],
      "permissions": [],
      "controller": {
        "hooks": [],
        "throw_lines": []
      }
    },
    {
      "name": "Layout Plan Items",
      "module": "Rshpm System",
      "istable": 1,
      "is_submittable": 0,
      "autoname": null,
      "naming_rule": null,
      "title_field": null,
      "search_fields": null,
      "quick_entry": 0,
      "track_changes": 0,
      "field_order": [
        "property_no",
        "area",
        "type",
        "coordinates"
      ],
      "fields": [
        {
          "fieldname": "property_no",
          "label": "Property No",
          "fieldtype": "Data",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "area",
          "label": "Area",
          "fieldtype": "Data",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "type",
          "label": "Type",
          "fieldtype": "Data",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "coordinates",
          "label": "Coordinates",
          "fieldtype": "Data",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        }
      ],
      "permissions": [],
      "controller": {
        "hooks": [],
        "throw_lines": []
      }
    },
    {
      "name": "Other Charges Invoice",
      "module": "Rshpm System",
      "istable": 0,
      "is_submittable": 1,
      "autoname": null,
      "naming_rule": null,
      "title_field": null,
      "search_fields": null,
      "quick_entry": 0,
      "track_changes": 0,
      "field_order": [
        "company",
        "property",
        "allocation_method",
        "total_amount",
        "column_break_rcsf",
        "booking",
        "customer",
        "posting_date",
        "effective_from",
        "section_break_wndj",
        "items",
        "section_break_nw5b",
        "amended_from"
      ],
      "fields": [
        {
          "fieldname": "section_break_nw5b",
          "label": null,
          "fieldtype": "Section Break",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "amended_from",
          "label": "Amended From",
          "fieldtype": "Link",
          "reqd": 0,
          "read_only": 1,
          "hidden": 0,
          "in_list_view": 0,
          "options": "Other Charges Invoice",
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "company",
          "label": "Company",
          "fieldtype": "Link",
          "reqd": 0,
          "read_only": 1,
          "hidden": 0,
          "in_list_view": 1,
          "options": "Property Company",
          "default": null,
          "fetch_from": "booking.company"
        },
        {
          "fieldname": "column_break_rcsf",
          "label": null,
          "fieldtype": "Column Break",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "booking",
          "label": "Booking",
          "fieldtype": "Link",
          "reqd": 1,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 1,
          "options": "Booking",
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "customer",
          "label": "Customer",
          "fieldtype": "Link",
          "reqd": 0,
          "read_only": 1,
          "hidden": 0,
          "in_list_view": 1,
          "options": "Client",
          "default": null,
          "fetch_from": "booking.customer"
        },
        {
          "fieldname": "property",
          "label": "Property",
          "fieldtype": "Link",
          "reqd": 0,
          "read_only": 1,
          "hidden": 0,
          "in_list_view": 1,
          "options": "Property",
          "default": null,
          "fetch_from": "booking.property"
        },
        {
          "fieldname": "allocation_method",
          "label": "Allocation Method",
          "fieldtype": "Select",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": "Spread Across Remaining Installments\nAdd to Next Installment\nCreate New Installment",
          "default": "Spread Across Remaining Installments",
          "fetch_from": null
        },
        {
          "fieldname": "total_amount",
          "label": "Total Amount",
          "fieldtype": "Currency",
          "reqd": 0,
          "read_only": 1,
          "hidden": 0,
          "in_list_view": 1,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "posting_date",
          "label": "Posting Date",
          "fieldtype": "Date",
          "reqd": 1,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 1,
          "options": null,
          "default": "Today",
          "fetch_from": null
        },
        {
          "fieldname": "effective_from",
          "label": "Effective From",
          "fieldtype": "Date",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "section_break_wndj",
          "label": null,
          "fieldtype": "Section Break",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "items",
          "label": "Items",
          "fieldtype": "Table",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": "Other Charges Invoice Item",
          "default": null,
          "fetch_from": null
        }
      ],
      "permissions": [
        {
          "role": "System Manager",
          "read": 1,
          "write": 1,
          "create": 1,
          "delete": 1,
          "submit": 1,
          "cancel": 0,
          "amend": 0,
          "print": 1,
          "email": 1,
          "share": 1,
          "export": 1,
          "report": 1
        }
      ],
      "controller": {
        "hooks": [
          "on_cancel",
          "on_submit",
          "validate"
        ],
        "throw_lines": [
          "frappe.throw(\"Booking is required.\")",
          "frappe.throw(\"Please add at least one item.\")",
          "frappe.throw(\"Item amount must be greater than 0.\")",
          "frappe.throw(\"Effective From is required when Allocation Method is 'Create New Installment'.\")",
          "frappe.throw(\"Cannot apply charges because Booking is Cancelled.\")",
          "frappe.throw(\"Cannot cancel this Other Charges Invoice because the next installment has payments. Ask Manager/Admin.\")",
          "frappe.throw(\"Cannot cancel because the created installment row cannot be matched safely. Ask Manager/Admin.\")",
          "frappe.throw(\"Cannot cancel because the created installment already has payment. Ask Manager/Admin.\")"
        ]
      }
    },
    {
      "name": "Other Charges Invoice Item",
      "module": "Rshpm System",
      "istable": 1,
      "is_submittable": 0,
      "autoname": null,
      "naming_rule": null,
      "title_field": null,
      "search_fields": null,
      "quick_entry": 0,
      "track_changes": 0,
      "field_order": [
        "charge_type",
        "description",
        "amount"
      ],
      "fields": [
        {
          "fieldname": "charge_type",
          "label": "Charge Type",
          "fieldtype": "Link",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 1,
          "options": "Charge Type",
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "description",
          "label": "Description",
          "fieldtype": "Data",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 1,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "amount",
          "label": "Amount",
          "fieldtype": "Currency",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 1,
          "options": null,
          "default": null,
          "fetch_from": null
        }
      ],
      "permissions": [],
      "controller": {
        "hooks": [],
        "throw_lines": []
      }
    },
    {
      "name": "Ownership Transfer",
      "module": "Rshpm System",
      "istable": 0,
      "is_submittable": 1,
      "autoname": null,
      "naming_rule": null,
      "title_field": null,
      "search_fields": null,
      "quick_entry": 0,
      "track_changes": 0,
      "field_order": [
        "booking",
        "property",
        "transfer_type",
        "transfer_date",
        "remarks",
        "column_break_ahyj",
        "from_client",
        "to_client",
        "transfer_fee",
        "company",
        "transfer_fee_paid",
        "check_list_section",
        "original_documents_returned",
        "document_return_log",
        "required_docs",
        "amended_from"
      ],
      "fields": [
        {
          "fieldname": "property",
          "label": "Property",
          "fieldtype": "Link",
          "reqd": 1,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 1,
          "options": "Property",
          "default": null,
          "fetch_from": "booking.property"
        },
        {
          "fieldname": "column_break_ahyj",
          "label": null,
          "fieldtype": "Column Break",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "from_client",
          "label": "From Client",
          "fieldtype": "Link",
          "reqd": 1,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 1,
          "options": "Client",
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "to_client",
          "label": "To Client",
          "fieldtype": "Link",
          "reqd": 1,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 1,
          "options": "Client",
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "transfer_type",
          "label": "Transfer Type",
          "fieldtype": "Select",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "transfer_date",
          "label": "Transfer Date",
          "fieldtype": "Date",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "transfer_fee",
          "label": "Transfer Fee",
          "fieldtype": "Currency",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "remarks",
          "label": "Remarks",
          "fieldtype": "Small Text",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "check_list_section",
          "label": "Check List",
          "fieldtype": "Section Break",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "original_documents_returned",
          "label": "Original Documents Returned",
          "fieldtype": "Check",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": "0",
          "fetch_from": null
        },
        {
          "fieldname": "document_return_log",
          "label": "Documents Return Log",
          "fieldtype": "Small Text",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "company",
          "label": "Company",
          "fieldtype": "Link",
          "reqd": 1,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 1,
          "options": "Property Company",
          "default": null,
          "fetch_from": "booking.company"
        },
        {
          "fieldname": "required_docs",
          "label": "Required Docs",
          "fieldtype": "Table",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": "Attachments",
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "amended_from",
          "label": "Amended From",
          "fieldtype": "Link",
          "reqd": 0,
          "read_only": 1,
          "hidden": 0,
          "in_list_view": 0,
          "options": "Ownership Transfer",
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "transfer_fee_paid",
          "label": "Transfer Fee Paid",
          "fieldtype": "Link",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": "Payment",
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "booking",
          "label": "Booking",
          "fieldtype": "Link",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": "Booking",
          "default": null,
          "fetch_from": null
        }
      ],
      "permissions": [
        {
          "role": "System Manager",
          "read": 1,
          "write": 1,
          "create": 1,
          "delete": 1,
          "submit": 0,
          "cancel": 0,
          "amend": 0,
          "print": 1,
          "email": 1,
          "share": 1,
          "export": 1,
          "report": 1
        }
      ],
      "controller": {
        "hooks": [
          "on_cancel",
          "on_submit",
          "validate"
        ],
        "throw_lines": [
          "frappe.throw(\"Property is required.\", title=\"Missing Property\")",
          "frappe.throw(\"From Client is required.\", title=\"Missing From Client\")",
          "frappe.throw(\"To Client is required.\", title=\"Missing To Client\")",
          "frappe.throw(\"From Client and To Client cannot be the same.\", title=\"Invalid Transfer\")",
          "frappe.throw(\"Invalid Property.\", title=\"Invalid Property\")",
          "frappe.throw(f\"Cannot transfer because property is {status}.\", title=\"Not Allowed\")",
          "frappe.throw(",
          "frappe.throw(",
          "frappe.throw(\"Current owner record is missing/corrupted.\", title=\"Missing Ownership\")",
          "frappe.throw(\"Current owner record is not Active. Fix ownership before transfer.\", title=\"Invalid Ownership\")",
          "frappe.throw(",
          "frappe.throw(\"Property has no current owner. Submit Possession first.\", title=\"Missing Ownership\")"
        ]
      }
    },
    {
      "name": "Payment",
      "module": "Rshpm System",
      "istable": 0,
      "is_submittable": 1,
      "autoname": "naming_series:",
      "naming_rule": "By \"Naming Series\" field",
      "title_field": null,
      "search_fields": null,
      "quick_entry": 0,
      "track_changes": 0,
      "field_order": [
        "is_advance",
        "naming_series",
        "section_break_tvhw",
        "payment_date",
        "amount_paid",
        "receiptinvoice_number",
        "received_by",
        "unallocated_amount",
        "company",
        "reference_no",
        "column_break_yrpn",
        "booking",
        "customer",
        "property",
        "payment_mode",
        "payment_type",
        "amended_from",
        "approved_by",
        "section_break_npgq",
        "payment_allocation"
      ],
      "fields": [
        {
          "fieldname": "payment_date",
          "label": "Payment Date",
          "fieldtype": "Date",
          "reqd": 1,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 1,
          "options": null,
          "default": "Today",
          "fetch_from": null
        },
        {
          "fieldname": "column_break_yrpn",
          "label": null,
          "fieldtype": "Column Break",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "customer",
          "label": "Customer",
          "fieldtype": "Link",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": "Client",
          "default": null,
          "fetch_from": "booking.customer"
        },
        {
          "fieldname": "property",
          "label": "Property",
          "fieldtype": "Link",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": "Property",
          "default": null,
          "fetch_from": "booking.property"
        },
        {
          "fieldname": "amount_paid",
          "label": "Amount Paid",
          "fieldtype": "Currency",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "receiptinvoice_number",
          "label": "Receipt/Invoice Number",
          "fieldtype": "Data",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "payment_mode",
          "label": "Payment Mode",
          "fieldtype": "Select",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": "Cash\nBank\nCheque\nOnline",
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "payment_type",
          "label": "Payment Type",
          "fieldtype": "Select",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": "Token\nDown Payment\nInstallment",
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "received_by",
          "label": "Received By",
          "fieldtype": "Link",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": "User",
          "default": "__user",
          "fetch_from": null
        },
        {
          "fieldname": "booking",
          "label": "Booking",
          "fieldtype": "Link",
          "reqd": 1,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": "Booking",
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "unallocated_amount",
          "label": "Unallocated Amount",
          "fieldtype": "Currency",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "is_advance",
          "label": "Is Advance",
          "fieldtype": "Check",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": "0",
          "fetch_from": null
        },
        {
          "fieldname": "section_break_tvhw",
          "label": null,
          "fieldtype": "Section Break",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "amended_from",
          "label": "Amended From",
          "fieldtype": "Link",
          "reqd": 0,
          "read_only": 1,
          "hidden": 0,
          "in_list_view": 0,
          "options": "Payment",
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "section_break_npgq",
          "label": null,
          "fieldtype": "Section Break",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "payment_allocation",
          "label": "Payment Allocation",
          "fieldtype": "Table",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": "Payment Allocation",
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "company",
          "label": "Company",
          "fieldtype": "Link",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": "Property Company",
          "default": null,
          "fetch_from": "booking.company"
        },
        {
          "fieldname": "approved_by",
          "label": "Approved By",
          "fieldtype": "Link",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": "User",
          "default": "__user",
          "fetch_from": null
        },
        {
          "fieldname": "reference_no",
          "label": "Reference No",
          "fieldtype": "Small Text",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "naming_series",
          "label": null,
          "fieldtype": "Select",
          "reqd": 0,
          "read_only": 1,
          "hidden": 1,
          "in_list_view": 0,
          "options": "PAY-.YYYY.-.#####",
          "default": "PAY-.YYYY.-.#####",
          "fetch_from": null
        }
      ],
      "permissions": [
        {
          "role": "System Manager",
          "read": 1,
          "write": 1,
          "create": 1,
          "delete": 1,
          "submit": 0,
          "cancel": 0,
          "amend": 0,
          "print": 1,
          "email": 1,
          "share": 1,
          "export": 1,
          "report": 1
        },
        {
          "role": "Cashier",
          "read": 1,
          "write": 1,
          "create": 1,
          "delete": 0,
          "submit": 1,
          "cancel": 0,
          "amend": 0,
          "print": 1,
          "email": 1,
          "share": 1,
          "export": 1,
          "report": 1
        },
        {
          "role": "Accounts",
          "read": 1,
          "write": 0,
          "create": 0,
          "delete": 0,
          "submit": 0,
          "cancel": 0,
          "amend": 0,
          "print": 1,
          "email": 1,
          "share": 1,
          "export": 1,
          "report": 1
        },
        {
          "role": "Manager",
          "read": 1,
          "write": 0,
          "create": 0,
          "delete": 0,
          "submit": 0,
          "cancel": 0,
          "amend": 0,
          "print": 1,
          "email": 1,
          "share": 1,
          "export": 1,
          "report": 1
        },
        {
          "role": "Sales User",
          "read": 1,
          "write": 0,
          "create": 0,
          "delete": 0,
          "submit": 0,
          "cancel": 0,
          "amend": 0,
          "print": 1,
          "email": 1,
          "share": 1,
          "export": 1,
          "report": 1
        }
      ],
      "controller": {
        "hooks": [
          "on_cancel",
          "on_submit",
          "validate"
        ],
        "throw_lines": [
          "frappe.throw(\"Booking is required in Payment.\")",
          "frappe.throw(\"Booking is required.\")",
          "frappe.throw(\"Amount Paid must be greater than 0.\")",
          "frappe.throw(\"Payment Date is required.\")",
          "frappe.throw(\"Payment company and Booking company must be the same.\", title=\"Company Mismatch\")",
          "frappe.throw(\"Payment customer must match booking customer.\", title=\"Mismatch\")",
          "frappe.throw(\"Payment property must match booking property.\", title=\"Mismatch\")",
          "frappe.throw(\"Please submit the Booking first. Payments are allowed only after Booking submission.\")",
          "frappe.throw(\"Booking must be submitted to cancel payments safely.\")",
          "# \t\t\tfrappe.throw(\"Booking is required.\")",
          "# \t\t\tfrappe.throw(\"Amount Paid must be greater than 0.\")",
          "# \t\t\tfrappe.throw(\"Payment Date is required.\")",
          "# \t\t\tfrappe.throw(\"Payment company and Booking company must be the same.\", title=\"Company Mismatch\")",
          "# \t\t\tfrappe.throw(\"Payment customer must match booking customer.\", title=\"Mismatch\")",
          "# \t\t\tfrappe.throw(\"Payment property must match booking property.\", title=\"Mismatch\")",
          "# \t    \tfrappe.throw(\"Please submit the Booking first. Payments are allowed only after Booking submission.\")"
        ]
      }
    },
    {
      "name": "Payment Allocation",
      "module": "Rshpm System",
      "istable": 1,
      "is_submittable": 0,
      "autoname": null,
      "naming_rule": null,
      "title_field": null,
      "search_fields": null,
      "quick_entry": 0,
      "track_changes": 0,
      "field_order": [
        "installment_name",
        "allocated_date",
        "note",
        "attach_file",
        "column_break_xfwa",
        "allocated_amount",
        "schedule_row_name",
        "due_date",
        "attachments_typ",
        "attach_image",
        "installment_no",
        "payment"
      ],
      "fields": [
        {
          "fieldname": "installment_name",
          "label": "Installment Name",
          "fieldtype": "Data",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 1,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "allocated_amount",
          "label": "Allocated Amount",
          "fieldtype": "Currency",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 1,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "allocated_date",
          "label": "Allocated Date",
          "fieldtype": "Date",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 1,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "note",
          "label": "Note",
          "fieldtype": "Small Text",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "attachments_typ",
          "label": "Attachments",
          "fieldtype": "Select",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 1,
          "options": "Deposit Slip\nScreenshot\nReceipt Scan",
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "attach_image",
          "label": "Attach Image",
          "fieldtype": "Attach Image",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "attach_file",
          "label": "Attach File",
          "fieldtype": "Attach",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 1,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "column_break_xfwa",
          "label": null,
          "fieldtype": "Column Break",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "schedule_row_name",
          "label": "Schedule Row ID",
          "fieldtype": "Data",
          "reqd": 0,
          "read_only": 1,
          "hidden": 1,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "due_date",
          "label": "Due Date",
          "fieldtype": "Date",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 1,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "installment_no",
          "label": "Installment No",
          "fieldtype": "Int",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "payment",
          "label": "Payment",
          "fieldtype": "Link",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 1,
          "options": "Payment",
          "default": null,
          "fetch_from": null
        }
      ],
      "permissions": [],
      "controller": {
        "hooks": [],
        "throw_lines": []
      }
    },
    {
      "name": "Possession",
      "module": "Rshpm System",
      "istable": 0,
      "is_submittable": 0,
      "autoname": "naming_series:",
      "naming_rule": "By \"Naming Series\" field",
      "title_field": null,
      "search_fields": null,
      "quick_entry": 0,
      "track_changes": 0,
      "field_order": [
        "possession_date",
        "company",
        "booking",
        "property",
        "client",
        "notes",
        "final_clearance_check",
        "naming_series"
      ],
      "fields": [
        {
          "fieldname": "possession_date",
          "label": "Possession Date",
          "fieldtype": "Date",
          "reqd": 1,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 1,
          "options": null,
          "default": "Today",
          "fetch_from": null
        },
        {
          "fieldname": "notes",
          "label": "Notes",
          "fieldtype": "Small Text",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "final_clearance_check",
          "label": "Final Clearance Check",
          "fieldtype": "Check",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": "0",
          "fetch_from": null
        },
        {
          "fieldname": "company",
          "label": "Company",
          "fieldtype": "Link",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": "Company",
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "naming_series",
          "label": null,
          "fieldtype": "Select",
          "reqd": 0,
          "read_only": 0,
          "hidden": 1,
          "in_list_view": 0,
          "options": "POS-.YYYY.-.#####",
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "booking",
          "label": "Booking",
          "fieldtype": "Link",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": "Booking",
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "property",
          "label": "Property",
          "fieldtype": "Link",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": "Property",
          "default": null,
          "fetch_from": "booking.property"
        },
        {
          "fieldname": "client",
          "label": "Client",
          "fieldtype": "Link",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": "Property",
          "default": null,
          "fetch_from": "booking.customer"
        }
      ],
      "permissions": [
        {
          "role": "System Manager",
          "read": 1,
          "write": 1,
          "create": 1,
          "delete": 1,
          "submit": 0,
          "cancel": 0,
          "amend": 0,
          "print": 1,
          "email": 1,
          "share": 1,
          "export": 1,
          "report": 1
        }
      ],
      "controller": {
        "hooks": [
          "on_cancel",
          "on_submit",
          "validate"
        ],
        "throw_lines": [
          "frappe.throw(\"Booking is required.\", title=\"Missing Booking\")",
          "frappe.throw(\"Invalid Booking.\", title=\"Invalid Booking\")",
          "frappe.throw(\"Booking must be submitted before Possession.\", title=\"Booking Not Submitted\")",
          "frappe.throw(\"Company mismatch between Booking and Possession.\", title=\"Company Mismatch\")",
          "frappe.throw(",
          "frappe.throw(\"Final Clearance Check must be checked before submitting Possession.\", title=\"Clearance Required\")",
          "frappe.throw(\"Remaining balance exists. Clear all dues before possession.\", title=\"Payment Pending\")",
          "frappe.throw(\"Cannot cancel possession after transfer.\", title=\"Not Allowed\")"
        ]
      }
    },
    {
      "name": "Property",
      "module": "Rshpm System",
      "istable": 0,
      "is_submittable": 0,
      "autoname": "naming_series:",
      "naming_rule": "By \"Naming Series\" field",
      "title_field": null,
      "search_fields": null,
      "quick_entry": 0,
      "track_changes": 1,
      "field_order": [
        "property_info_section",
        "plot_number",
        "area_text",
        "area_value",
        "area_unit",
        "total_cost",
        "property_type",
        "reserved_till",
        "current_owner",
        "naming_series",
        "column_break_knie",
        "block",
        "status",
        "unit_type",
        "unique_id",
        "qr_code",
        "current_booking",
        "booked_by",
        "is_owner_locked",
        "company",
        "housing_scheme",
        "section_break_dohw",
        "amenities",
        "property_price_history",
        "section_break_kjiu",
        "description",
        "section_break_sktf",
        "location"
      ],
      "fields": [
        {
          "fieldname": "property_info_section",
          "label": "Property Info",
          "fieldtype": "Section Break",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "plot_number",
          "label": "Plot Number",
          "fieldtype": "Data",
          "reqd": 1,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 1,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "total_cost",
          "label": "Total Cost",
          "fieldtype": "Currency",
          "reqd": 1,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 1,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "column_break_knie",
          "label": null,
          "fieldtype": "Column Break",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "block",
          "label": "Block",
          "fieldtype": "Link",
          "reqd": 1,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": "Block",
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "status",
          "label": "Status",
          "fieldtype": "Select",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": "Inventory\nReserved\nBooked\nAllotted\nPossession\nTransferred\nCancelled\nBlocked",
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "unique_id",
          "label": "Unique ID",
          "fieldtype": "Data",
          "reqd": 0,
          "read_only": 1,
          "hidden": 1,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "section_break_sktf",
          "label": null,
          "fieldtype": "Section Break",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "location",
          "label": "Location",
          "fieldtype": "Geolocation",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "qr_code",
          "label": "QR Code",
          "fieldtype": "Attach Image",
          "reqd": 0,
          "read_only": 1,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "property_type",
          "label": "Property Type",
          "fieldtype": "Select",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": "Residential\nCommercial\nPlot",
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "section_break_kjiu",
          "label": null,
          "fieldtype": "Section Break",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "description",
          "label": "Description",
          "fieldtype": "Text Editor",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "section_break_dohw",
          "label": null,
          "fieldtype": "Section Break",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "amenities",
          "label": "Amenities",
          "fieldtype": "Table",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": "Property Amenity",
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "property_price_history",
          "label": "Property Price History",
          "fieldtype": "Table",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": "Property Price History",
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "reserved_till",
          "label": "Reserved Till",
          "fieldtype": "Datetime",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "current_booking",
          "label": "Current Booking",
          "fieldtype": "Link",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": "Booking",
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "booked_by",
          "label": "Booked By",
          "fieldtype": "Data",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": "current_booking.customer"
        },
        {
          "fieldname": "current_owner",
          "label": "Current Owner",
          "fieldtype": "Link",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": "Property Ownership",
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "is_owner_locked",
          "label": "Is Owner Locked",
          "fieldtype": "Check",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": "0",
          "fetch_from": null
        },
        {
          "fieldname": "area_text",
          "label": "Area",
          "fieldtype": "Float",
          "reqd": 1,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 1,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "area_unit",
          "label": "Area Unit",
          "fieldtype": "Select",
          "reqd": 1,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 1,
          "options": "Kanal\nMarla\nSqyd\nSqft",
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "company",
          "label": "Company",
          "fieldtype": "Link",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 1,
          "options": "Property Company",
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "unit_type",
          "label": "Unit Type",
          "fieldtype": "Link",
          "reqd": 1,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 1,
          "options": "Property Unit Type",
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "area_value",
          "label": "Area (Sqft)",
          "fieldtype": "Float",
          "reqd": 0,
          "read_only": 1,
          "hidden": 0,
          "in_list_view": 1,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "housing_scheme",
          "label": "Housing Scheme",
          "fieldtype": "Link",
          "reqd": 1,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": "Housing Scheme",
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "naming_series",
          "label": "Naming Series",
          "fieldtype": "Select",
          "reqd": 0,
          "read_only": 0,
          "hidden": 1,
          "in_list_view": 0,
          "options": "PROP-.YYYY.-.#####",
          "default": "PROP-.YYYY.-.#####",
          "fetch_from": null
        }
      ],
      "permissions": [
        {
          "role": "System Manager",
          "read": 1,
          "write": 1,
          "create": 1,
          "delete": 1,
          "submit": 0,
          "cancel": 0,
          "amend": 0,
          "print": 1,
          "email": 1,
          "share": 1,
          "export": 1,
          "report": 1
        },
        {
          "role": "Admin",
          "read": 1,
          "write": 1,
          "create": 1,
          "delete": 1,
          "submit": 0,
          "cancel": 0,
          "amend": 0,
          "print": 1,
          "email": 1,
          "share": 1,
          "export": 1,
          "report": 1
        },
        {
          "role": "Sales User",
          "read": 1,
          "write": 1,
          "create": 0,
          "delete": 0,
          "submit": 0,
          "cancel": 0,
          "amend": 0,
          "print": 1,
          "email": 1,
          "share": 1,
          "export": 1,
          "report": 1
        },
        {
          "role": "Client",
          "read": 1,
          "write": 0,
          "create": 0,
          "delete": 0,
          "submit": 0,
          "cancel": 0,
          "amend": 0,
          "print": 1,
          "email": 1,
          "share": 1,
          "export": 1,
          "report": 1
        },
        {
          "role": "Manager",
          "read": 1,
          "write": 1,
          "create": 1,
          "delete": 0,
          "submit": 0,
          "cancel": 0,
          "amend": 0,
          "print": 1,
          "email": 1,
          "share": 1,
          "export": 1,
          "report": 1
        }
      ],
      "controller": {
        "hooks": [
          "validate"
        ],
        "throw_lines": [
          "frappe.throw(",
          "frappe.throw(",
          "frappe.throw(",
          "frappe.throw(",
          "frappe.throw(",
          "frappe.throw("
        ]
      }
    },
    {
      "name": "Property Amenity",
      "module": "Rshpm System",
      "istable": 1,
      "is_submittable": 0,
      "autoname": null,
      "naming_rule": null,
      "title_field": null,
      "search_fields": null,
      "quick_entry": 0,
      "track_changes": 0,
      "field_order": [
        "included",
        "amenity",
        "value",
        "notes",
        "extra_cost"
      ],
      "fields": [
        {
          "fieldname": "amenity",
          "label": "Amenity",
          "fieldtype": "Link",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 1,
          "options": "Amenity",
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "value",
          "label": "Value",
          "fieldtype": "Data",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 1,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "notes",
          "label": "Notes",
          "fieldtype": "Small Text",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 1,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "included",
          "label": "Included",
          "fieldtype": "Check",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 1,
          "options": null,
          "default": "0",
          "fetch_from": null
        },
        {
          "fieldname": "extra_cost",
          "label": "Extra Cost",
          "fieldtype": "Currency",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 1,
          "options": null,
          "default": null,
          "fetch_from": null
        }
      ],
      "permissions": [],
      "controller": {
        "hooks": [],
        "throw_lines": []
      }
    },
    {
      "name": "Property Company",
      "module": "Rshpm System",
      "istable": 0,
      "is_submittable": 0,
      "autoname": "field:company_name",
      "naming_rule": "By fieldname",
      "title_field": null,
      "search_fields": null,
      "quick_entry": 0,
      "track_changes": 0,
      "field_order": [
        "is_active",
        "section_break_oflx",
        "company_name",
        "legal_name",
        "logo",
        "address",
        "column_break_wcwh",
        "phone",
        "email",
        "tax_id",
        "default_currency",
        "company_code"
      ],
      "fields": [
        {
          "fieldname": "company_name",
          "label": "Company Name",
          "fieldtype": "Data",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 1,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "legal_name",
          "label": "Legal Name",
          "fieldtype": "Data",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 1,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "logo",
          "label": "Logo",
          "fieldtype": "Attach Image",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "address",
          "label": "Address",
          "fieldtype": "Data",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "is_active",
          "label": "Is Active",
          "fieldtype": "Check",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": "0",
          "fetch_from": null
        },
        {
          "fieldname": "section_break_oflx",
          "label": null,
          "fieldtype": "Section Break",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "column_break_wcwh",
          "label": null,
          "fieldtype": "Column Break",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "phone",
          "label": "Phone",
          "fieldtype": "Phone",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "email",
          "label": "Email",
          "fieldtype": "Data",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": "Email",
          "fetch_from": null
        },
        {
          "fieldname": "tax_id",
          "label": "Tax Id",
          "fieldtype": "Data",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "default_currency",
          "label": "Default Currency",
          "fieldtype": "Data",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "company_code",
          "label": "Company Code",
          "fieldtype": "Data",
          "reqd": 1,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        }
      ],
      "permissions": [
        {
          "role": "System Manager",
          "read": 1,
          "write": 1,
          "create": 1,
          "delete": 1,
          "submit": 0,
          "cancel": 0,
          "amend": 0,
          "print": 1,
          "email": 1,
          "share": 1,
          "export": 1,
          "report": 1
        }
      ],
      "controller": {
        "hooks": [
          "validate"
        ],
        "throw_lines": [
          "frappe.throw(\"Company Name is required to generate Company Code.\")"
        ]
      }
    },
    {
      "name": "Property Ownership",
      "module": "Rshpm System",
      "istable": 0,
      "is_submittable": 0,
      "autoname": null,
      "naming_rule": null,
      "title_field": null,
      "search_fields": null,
      "quick_entry": 0,
      "track_changes": 0,
      "field_order": [
        "property",
        "ownership_start_date",
        "ownership_end_date",
        "remarks",
        "column_break_qirl",
        "owner_client",
        "ownership_status",
        "booking",
        "section_break_vrys",
        "amended_from"
      ],
      "fields": [
        {
          "fieldname": "section_break_vrys",
          "label": null,
          "fieldtype": "Section Break",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "amended_from",
          "label": "Amended From",
          "fieldtype": "Link",
          "reqd": 0,
          "read_only": 1,
          "hidden": 0,
          "in_list_view": 0,
          "options": "Property Ownership",
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "property",
          "label": "Property",
          "fieldtype": "Link",
          "reqd": 1,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 1,
          "options": "Property",
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "ownership_start_date",
          "label": "Ownership Start Date",
          "fieldtype": "Date",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "column_break_qirl",
          "label": null,
          "fieldtype": "Column Break",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "owner_client",
          "label": "Owner Client",
          "fieldtype": "Link",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": "Client",
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "ownership_status",
          "label": "Ownership Status",
          "fieldtype": "Select",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "ownership_end_date",
          "label": "Ownership End Date",
          "fieldtype": "Date",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "booking",
          "label": "Booking",
          "fieldtype": "Link",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": "Booking",
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "remarks",
          "label": "Remarks",
          "fieldtype": "Small Text",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        }
      ],
      "permissions": [
        {
          "role": "System Manager",
          "read": 1,
          "write": 1,
          "create": 1,
          "delete": 1,
          "submit": 0,
          "cancel": 0,
          "amend": 0,
          "print": 1,
          "email": 1,
          "share": 1,
          "export": 1,
          "report": 1
        }
      ],
      "controller": {
        "hooks": [
          "validate"
        ],
        "throw_lines": [
          "frappe.throw(\"Property is required.\", title=\"Missing Property\")",
          "frappe.throw(f\"Ownership already exists for this Property: {existing}\", title=\"Duplicate Ownership\")",
          "frappe.throw(\"Ownership Status must be Active or Closed.\", title=\"Invalid Ownership Status\")"
        ]
      }
    },
    {
      "name": "Property Price History",
      "module": "Rshpm System",
      "istable": 1,
      "is_submittable": 0,
      "autoname": null,
      "naming_rule": null,
      "title_field": null,
      "search_fields": null,
      "quick_entry": 0,
      "track_changes": 0,
      "field_order": [
        "base_price",
        "discount",
        "final_price"
      ],
      "fields": [
        {
          "fieldname": "base_price",
          "label": "Base Price",
          "fieldtype": "Currency",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 1,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "discount",
          "label": "Discount",
          "fieldtype": "Currency",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 1,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "final_price",
          "label": "Final Price",
          "fieldtype": "Currency",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 1,
          "options": null,
          "default": null,
          "fetch_from": null
        }
      ],
      "permissions": [],
      "controller": {
        "hooks": [],
        "throw_lines": []
      }
    },
    {
      "name": "Property Unit Type",
      "module": "Rshpm System",
      "istable": 0,
      "is_submittable": 0,
      "autoname": "field:code",
      "naming_rule": "By fieldname",
      "title_field": null,
      "search_fields": null,
      "quick_entry": 0,
      "track_changes": 0,
      "field_order": [
        "unit_type_name",
        "column_break_omdq",
        "code",
        "is_active"
      ],
      "fields": [
        {
          "fieldname": "unit_type_name",
          "label": "Unit Type Name",
          "fieldtype": "Data",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "column_break_omdq",
          "label": null,
          "fieldtype": "Column Break",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "code",
          "label": "Code",
          "fieldtype": "Data",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "is_active",
          "label": "Active",
          "fieldtype": "Check",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": "0",
          "fetch_from": null
        }
      ],
      "permissions": [
        {
          "role": "System Manager",
          "read": 1,
          "write": 1,
          "create": 1,
          "delete": 1,
          "submit": 0,
          "cancel": 0,
          "amend": 0,
          "print": 1,
          "email": 1,
          "share": 1,
          "export": 1,
          "report": 1
        }
      ],
      "controller": {
        "hooks": [],
        "throw_lines": []
      }
    },
    {
      "name": "Watchlist",
      "module": "Rshpm System",
      "istable": 0,
      "is_submittable": 0,
      "autoname": null,
      "naming_rule": null,
      "title_field": null,
      "search_fields": null,
      "quick_entry": 0,
      "track_changes": 0,
      "field_order": [
        "active",
        "company",
        "cnic_normalized",
        "phone_normalized",
        "reason",
        "flagged_by"
      ],
      "fields": [
        {
          "fieldname": "company",
          "label": "Company",
          "fieldtype": "Link",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": "Company",
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "cnic_normalized",
          "label": "CNIC Normalized",
          "fieldtype": "Data",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "phone_normalized",
          "label": "Phone Normalized",
          "fieldtype": "Data",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "reason",
          "label": "Reason",
          "fieldtype": "Data",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": null,
          "fetch_from": null
        },
        {
          "fieldname": "flagged_by",
          "label": "Flagged By",
          "fieldtype": "Data",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": null,
          "default": "__user",
          "fetch_from": null
        },
        {
          "fieldname": "active",
          "label": "Active",
          "fieldtype": "Check",
          "reqd": 0,
          "read_only": 0,
          "hidden": 0,
          "in_list_view": 0,
          "options": "Company",
          "default": "0",
          "fetch_from": null
        }
      ],
      "permissions": [
        {
          "role": "System Manager",
          "read": 1,
          "write": 1,
          "create": 1,
          "delete": 1,
          "submit": 0,
          "cancel": 0,
          "amend": 0,
          "print": 1,
          "email": 1,
          "share": 1,
          "export": 1,
          "report": 1
        }
      ],
      "controller": {
        "hooks": [],
        "throw_lines": []
      }
    }
  ]
}